<!DOCTYPE html>
<html>
  
<head>
    <style type="text/css">
  
        /* Set the size of the div element 
        that contains the map */
        #map {
            height: 400px;
            width: 400px;
        }
          
        h2 {
            color: #308d46;
        }
    </style>
</head>
  
<body>
   
  
    <!--The div element for the map -->
    <div id="map"></div>
  
    <!--Add a script by google -->
    <script src=
"https://maps.googleapis.com/maps/api/js?key=AIzaSyB41DRUbKWJHPxaFjMAwdrzWzbVKartNGg&callback=initMap&libraries=&v=weekly"
        async>
    </script>

    <script>
  
        // Initialize and add the map
        function initMap() {
  
            // The location
            const mumbai = {
                lat: 18.96667,
                lng: 72.83333
            };
  
            // Create the map, centered at mumbai
            const map = new google.maps.Map(
                    document.getElementById("map"), {
  
                // Set the zoom of the map
                zoom: 17.56,
                center: mumbai,
            });
        }
    </script>


<script> // Note: This example requires that you consent to location sharing when
    // prompted by your browser. If you see the error "The Geolocation service
    // failed.", it means you probably did not give permission for the browser to
    // locate you.
    let map, infoWindow;
    
    function initMap() {
      map = new google.maps.Map(document.getElementById("map"), {
        center: { lat: -34.397, lng: 150.644 },
        zoom: 6,
      });
      infoWindow = new google.maps.InfoWindow();
    
      const locationButton = document.createElement("button");
    
      locationButton.textContent = "Pan to Current Location";
      locationButton.classList.add("custom-map-control-button");
      map.controls[google.maps.ControlPosition.TOP_CENTER].push(locationButton);
      locationButton.addEventListener("click", (e) => {
        // Try HTML5 geolocation.
        if (navigator.geolocation) {
          navigator.geolocation.getCurrentPosition(
            (position) => {
              const pos = {
                lat: position.coords.latitude,
                lng: position.coords.longitude,
              };
    
              infoWindow.setPosition(pos);
              infoWindow.setContent("Location found.");
              infoWindow.open(map);
              map.setCenter(pos);
              console.log(pos.lat, pos.lng);
            },
            () => {
              handleLocationError(true, infoWindow, map.getCenter());
            }
          );
        } else {
          // Browser doesn't support Geolocation
          handleLocationError(false, infoWindow, map.getCenter());
        }

      });
    }
    
    function handleLocationError(browserHasGeolocation, infoWindow, pos) {
      infoWindow.setPosition(pos);
      infoWindow.setContent(
        browserHasGeolocation
          ? "Error: The Geolocation service failed."
          : "Error: Your browser doesn't support geolocation."
      );
      infoWindow.open(map);
    }
    
    window.initMap = initMap;
  
  </script>


</body>
  
</html>